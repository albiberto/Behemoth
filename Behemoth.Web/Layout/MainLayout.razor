@inherits LayoutComponentBase

<MudThemeProvider @bind-IsDarkMode="_isDarkMode" Theme="_theme"/>
<MudPopoverProvider/>
<MudDialogProvider/>
<MudSnackbarProvider/>

<MudLayout>
    <MudAppBar Elevation="1">
        
        <MudHidden Breakpoint="Breakpoint.MdAndUp">
            <MudMenu Icon="@Icons.Material.Filled.Menu" Color="Color.Inherit" Edge="Edge.Start" AnchorOrigin="Origin.BottomLeft" TransformOrigin="Origin.TopLeft">
                <MudMenuItem Href="" Icon="@Icons.Material.Filled.Home">Home</MudMenuItem>
                <MudMenuItem Href="leaderboards" Icon="@Icons.Material.Filled.Add">Leaderboards</MudMenuItem>
                <AuthorizeView>
                    <MudMenuItem Href="leaderboards" Icon="@Icons.Material.Filled.Add">Create a Game</MudMenuItem>
                    <MudMenuItem Href="leaderboards" Icon="@Icons.Material.Filled.Add">My Tanks</MudMenuItem>
                </AuthorizeView>
            </MudMenu>
        </MudHidden>

        <MudText Typo="Typo.h6" Class="ml-3">Behemoth Tank</MudText>

        <MudHidden Breakpoint="Breakpoint.SmAndDown">
            <MudButton Href="" Color="Color.Inherit" Class="ml-4">Home</MudButton>
        </MudHidden>

        <MudSpacer/>

        <MudIconButton Icon="@(_isDarkMode ? Icons.Material.Filled.WbSunny : Icons.Material.Filled.Brightness4)" Color="Color.Inherit" OnClick="@ToggleDarkMode"/>

        <LoginDisplay/>

    </MudAppBar>

    <MudMainContent>
        <MudContainer MaxWidth="MaxWidth.Large" Class="my-4 pt-4">
            @Body
        </MudContainer>
    </MudMainContent>
</MudLayout>

@code {
    private readonly MudTheme _theme = new();

    private bool _isDarkMode;
    private void ToggleDarkMode() => _isDarkMode = !_isDarkMode;
}